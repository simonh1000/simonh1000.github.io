---
title: State Monad
layout: post
category: haskell
---

The State monad is used to store state, instead of explicitly passing it between functions or during recursion. Here's a quick recap of its main features.

## runState

returns the tuple (res, newState)

evalState returns the result
	evalState :: State s a -> s -> a

execState returns the state
	execState :: State s a -> s -> s

## put & get
returns a tuple
	Replace state
	get the state


## Modify
modify :: (s -> s) -> State s ()
modify f = do { x <- get; put (f x) }

Modify applies a function to the state and returns the new state

	import Control.Monad.State

	go :: Int -> State Int (Int)
	go x = modify (+x)

	main = do
		return $ execState (go 3) 45  -- 48

### Gets
gets :: (s -> a) -> State s a
gets f = do { x <- get; return (f x) }

Get the state and return the value of f applied to the state, together with the unmodified state
